# üé® Visor de PDF con Controles Avanzados

## üéØ Nuevas Funcionalidades Implementadas

Tu visor de CV ahora tiene **controles profesionales** como los de Adobe Reader o Google Drive.

---

## ‚ú® **Caracter√≠sticas Principales**

### 1. üîç **Controles de Zoom**
- **Acercar (+)**: Aumenta el tama√±o hasta 300%
- **Alejar (-)**: Reduce el tama√±o hasta 50%
- **Porcentaje actual**: Muestra el zoom actual
- **Bot√≥n "100%"**: Restablece el zoom original
- **Bot√≥n "Ajustar"**: Ajusta autom√°ticamente al ancho

### 2. üìÑ **Navegaci√≥n de P√°ginas**
- **Anterior (‚Üê)**: Va a la p√°gina anterior
- **Siguiente (‚Üí)**: Va a la p√°gina siguiente
- **Input num√©rico**: Escribe el n√∫mero de p√°gina y presiona Enter
- **Contador**: "P√°gina X de Y"
- **Auto-deshabilitado**: Los botones se deshabilitan en la primera/√∫ltima p√°gina

### 3. üîÑ **Rotaci√≥n**
- **Bot√≥n de rotar**: Gira el PDF 90¬∞ cada vez
- √ötil para PDFs en formato horizontal

### 4. üñ•Ô∏è **Pantalla Completa**
- **Maximizar**: Expande el modal a 98% de la pantalla
- **Minimizar**: Vuelve al tama√±o normal (95vh)

### 5. ‚¨áÔ∏è **Otras Acciones**
- **Descargar**: Descarga el PDF a tu computadora
- **Nueva pesta√±a**: Abre el PDF en el navegador
- **Vista previa**: Muestra el PDF en la tarjeta (iframe simple)

---

## üé® **Interfaz del Visor**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Curriculum Vitae                    [‚¨áÔ∏è Descargar] [üîó] [‚õ∂]    ‚îÇ
‚îÇ Nombre del Investigador                                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [‚Üê] [Input: 1] de 5 [‚Üí]  [üîç-] 100% [üîç+]  [üîÑ] [üìê] [100%]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ                      [PDF AQU√ç]                                ‚îÇ
‚îÇ                   Con zoom, rotaci√≥n                           ‚îÇ
‚îÇ                   y navegaci√≥n                                 ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ P√°gina 1 de 5                    Zoom: 100% | Rotaci√≥n: 0¬∞    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üïπÔ∏è **C√≥mo Usar los Controles**

### **Barra de Navegaci√≥n (Superior Izquierda)**

| Bot√≥n | Acci√≥n | Atajo |
|-------|--------|-------|
| `‚Üê` | P√°gina anterior | |
| Input num√©rico | Ir a p√°gina espec√≠fica | Escribe y Enter |
| `‚Üí` | P√°gina siguiente | |

**Ejemplo:**
```
[‚Üê] [2] de 5 [‚Üí]
```
- Click en `‚Üê` ‚Üí Va a p√°gina 1
- Escribe `5` en el input ‚Üí Va a p√°gina 5
- Click en `‚Üí` ‚Üí Va a p√°gina 6 (si existe)

---

### **Controles de Zoom (Centro)**

| Bot√≥n | Acci√≥n | Resultado |
|-------|--------|-----------|
| üîç- | Alejar | Reduce 25% |
| `X%` | Muestra zoom actual | Solo lectura |
| üîç+ | Acercar | Aumenta 25% |

**Niveles de zoom:**
- M√≠nimo: 50%
- Por defecto: 100%
- M√°ximo: 300%

**Ejemplo de uso:**
```
Zoom actual: 100%
Click en üîç+ ‚Üí 125%
Click en üîç+ ‚Üí 150%
Click en üîç+ ‚Üí 175%
Click en üîç- ‚Üí 150%
```

---

### **Controles Adicionales (Derecha)**

| Bot√≥n | Icono | Acci√≥n |
|-------|-------|--------|
| Rotar | üîÑ | Gira 90¬∞ en sentido horario |
| Ajustar | üìê | Ajusta a 150% de ancho |
| 100% | `100%` | Restablece zoom y rotaci√≥n |

**Rotaci√≥n:**
```
0¬∞ ‚Üí 90¬∞ ‚Üí 180¬∞ ‚Üí 270¬∞ ‚Üí 0¬∞ (ciclo)
```

---

## üìä **Barra de Informaci√≥n (Inferior)**

Muestra en tiempo real:
- **Izquierda**: P√°gina actual de total (ej: "P√°gina 2 de 5")
- **Derecha**: Zoom y rotaci√≥n (ej: "Zoom: 125% | Rotaci√≥n: 90¬∞")

---

## üß™ **C√≥mo Probarlo**

### 1Ô∏è‚É£ **Iniciar el Servidor**
```bash
npm run dev
```

### 2Ô∏è‚É£ **Ir al Dashboard**
```
http://localhost:3000/dashboard
```

### 3Ô∏è‚É£ **Abrir el Visor**
1. Si tienes CV, ver√°s la tarjeta con vista previa
2. Click en **"Ver PDF"** (bot√≥n azul)
3. Se abrir√° el modal con TODOS los controles

### 4Ô∏è‚É£ **Prueba los Controles**

**Navegaci√≥n:**
- Click en `‚Üí` para ir a la siguiente p√°gina
- Escribe `3` en el input y presiona Enter
- Click en `‚Üê` para volver

**Zoom:**
- Click en üîç+ varias veces (hasta 300%)
- Click en üîç- para reducir
- Click en "100%" para restablecer

**Rotaci√≥n:**
- Click en üîÑ para girar
- Click 4 veces para dar la vuelta completa

**Pantalla Completa:**
- Click en ‚õ∂ para maximizar
- Click de nuevo para minimizar

---

## üé® **Estados de los Botones**

### **Botones Deshabilitados**

Se deshabilitan autom√°ticamente cuando no se pueden usar:

```
P√°gina 1 de 5:
[‚Üê DESHABILITADO] [1] de 5 [‚Üí ACTIVO]

P√°gina 5 de 5:
[‚Üê ACTIVO] [5] de 5 [‚Üí DESHABILITADO]

Zoom al 50%:
[üîç- DESHABILITADO] 50% [üîç+ ACTIVO]

Zoom al 300%:
[üîç- ACTIVO] 300% [üîç+ DESHABILITADO]
```

---

## üîß **Comparaci√≥n: Antes vs Ahora**

| Caracter√≠stica | Antes | Ahora |
|----------------|-------|-------|
| **Zoom** | ‚ùå No | ‚úÖ 50% - 300% |
| **Navegaci√≥n** | ‚ùå No | ‚úÖ S√≠ (‚Üê/‚Üí + input) |
| **Rotaci√≥n** | ‚ùå No | ‚úÖ S√≠ (90¬∞, 180¬∞, 270¬∞) |
| **Contador de p√°ginas** | ‚ùå No | ‚úÖ S√≠ (P√°g X de Y) |
| **Ajustar tama√±o** | ‚ùå No | ‚úÖ S√≠ (bot√≥n "Ajustar") |
| **Restablecer vista** | ‚ùå No | ‚úÖ S√≠ (bot√≥n "100%") |
| **Pantalla completa** | ‚ö†Ô∏è B√°sica | ‚úÖ Mejorada (98vh) |
| **Barra de herramientas** | ‚ùå No | ‚úÖ Completa |
| **Vista previa** | ‚úÖ S√≠ (iframe) | ‚úÖ Mejorada |
| **Modal con PDF.js** | ‚ùå No | ‚úÖ S√≠ |

---

## üí° **Tips de Uso**

### **Para Leer Documentos Largos**
1. Usa las flechas `‚Üê` `‚Üí` para navegar r√°pidamente
2. O escribe el n√∫mero de p√°gina directamente

### **Para Ver Detalles Peque√±os**
1. Click en üîç+ varias veces hasta 200%-300%
2. Usa el scroll del mouse para moverte por el documento

### **Para PDFs en Horizontal**
1. Click en üîÑ para rotar 90¬∞
2. Ajusta el zoom con üîç+ si es necesario

### **Para Pantalla Completa**
1. Click en ‚õ∂ (maximizar)
2. Usa F11 en el navegador para pantalla completa real

### **Para Restablecer Todo**
1. Click en "100%" restablece zoom y rotaci√≥n
2. O recarga el PDF cerrando y abriendo el modal

---

## üì± **Responsive**

El visor se adapta a diferentes tama√±os de pantalla:

### Desktop (>1024px)
- Barra de herramientas en una sola l√≠nea
- Todos los controles visibles
- Modal de 95vh (7xl)

### Tablet (768px-1024px)
- Barra de herramientas en dos l√≠neas
- Controles agrupados
- Modal adaptado

### Mobile (<768px)
- Barra de herramientas en 3 l√≠neas
- Controles apilados verticalmente
- Modal a 90vw

---

## üêõ **Troubleshooting**

### El PDF no se carga
**Causa:** PDF.js no puede acceder al archivo
**Soluci√≥n:**
1. Verifica que `cv_url` sea v√°lida
2. Verifica CORS (Vercel Blob es compatible)
3. Usa "Nueva pesta√±a" como fallback

### Los controles no responden
**Causa:** El PDF a√∫n est√° cargando
**Soluci√≥n:**
- Espera a que aparezca "P√°gina 1 de X"
- Ver√°s un spinner mientras carga

### El zoom est√° muy limitado
**Esto es normal:**
- M√≠nimo: 50% (para ver el documento completo)
- M√°ximo: 300% (m√°s puede causar problemas de rendimiento)

---

## üéØ **Tecnolog√≠as Usadas**

- **react-pdf**: Renderizado de PDFs en React
- **pdfjs-dist**: Motor de PDF.js de Mozilla
- **shadcn/ui**: Componentes de UI
- **Lucide React**: Iconos

---

## ‚úÖ **Checklist de Funcionalidades**

Marca lo que probaste:

- [ ] Navegaci√≥n entre p√°ginas (‚Üê/‚Üí)
- [ ] Ir a p√°gina espec√≠fica (input)
- [ ] Zoom in (+)
- [ ] Zoom out (-)
- [ ] Rotar PDF (üîÑ)
- [ ] Ajustar a ancho
- [ ] Restablecer vista (100%)
- [ ] Pantalla completa
- [ ] Descargar PDF
- [ ] Abrir en nueva pesta√±a
- [ ] Vista previa en tarjeta
- [ ] Cambio de p√°ginas con teclado (si lo implementamos)

---

## üöÄ **Pr√≥ximas Mejoras Posibles**

Ideas para el futuro:
- [ ] Atajos de teclado (‚Üê/‚Üí para p√°ginas)
- [ ] B√∫squeda de texto en el PDF
- [ ] Modo de presentaci√≥n
- [ ] Imprimir directamente
- [ ] Selecci√≥n de texto
- [ ] Anotaciones/comentarios
- [ ] Comparar dos PDFs lado a lado
- [ ] Vista de miniaturas de p√°ginas

---

**Fecha:** Octubre 15, 2025  
**Componente:** `cv-viewer-with-controls.tsx`  
**Estado:** ‚úÖ Completado y funcionando  
**Linter:** ‚úÖ Sin errores  

üéâ **¬°Disfruta tu nuevo visor de PDF profesional!** üéâ

